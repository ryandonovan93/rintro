<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Correlation in R | Introduction to R for Advanced Research Methods (PS6183)</title>
  <meta name="description" content="This GitBook is for the R Workshops" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Correlation in R | Introduction to R for Advanced Research Methods (PS6183)" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This GitBook is for the R Workshops" />
  <meta name="github-repo" content="ryandonovan93/rintro" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Correlation in R | Introduction to R for Advanced Research Methods (PS6183)" />
  
  <meta name="twitter:description" content="This GitBook is for the R Workshops" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="descriptive-statistics-and-t-tests-in-r.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to R (University of Galway)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> <strong>Overview</strong></a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-will-i-learn-in-r"><i class="fa fa-check"></i><b>1.1</b> What will I learn in R?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#what-will-i-not-learn-to-do-in-r"><i class="fa fa-check"></i><b>1.2</b> What will I not learn to do in R?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#why-are-we-learning-r"><i class="fa fa-check"></i><b>1.3</b> Why are we learning R?</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#where-and-when-will-the-classes-take-place"><i class="fa fa-check"></i><b>1.4</b> Where and when will the classes take place?</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#do-i-need-to-bring-a-laptop-to-the-class"><i class="fa fa-check"></i><b>1.5</b> Do I need to bring a laptop to the class?</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#office-hours-and-why-they-are-important-for-everyone-r-support---ryan-donovan."><i class="fa fa-check"></i><b>1.6</b> Office hours and why they are important for everyone (R Support - Ryan Donovan).</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>2</b> <strong>Getting Started with R and RStudio</strong></a>
<ul>
<li class="chapter" data-level="2.1" data-path="rstudio.html"><a href="rstudio.html#what-is-r"><i class="fa fa-check"></i><b>2.1</b> What is R?</a></li>
<li class="chapter" data-level="2.2" data-path="rstudio.html"><a href="rstudio.html#create-a-posit-cloud-account."><i class="fa fa-check"></i><b>2.2</b> Create a Posit Cloud Account.</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rstudio.html"><a href="rstudio.html#instructions-for-creating-a-posit-cloud-account"><i class="fa fa-check"></i><b>2.2.1</b> Instructions for Creating a Posit Cloud Account</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="rstudio.html"><a href="rstudio.html#downloading-r-on-to-your-computer-personal-laptop-or-desktops-only"><i class="fa fa-check"></i><b>2.3</b> Downloading R on to your Computer (personal laptop or desktops only)</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="rstudio.html"><a href="rstudio.html#downloading-r-on-windows"><i class="fa fa-check"></i><b>2.3.1</b> Downloading R on Windows</a></li>
<li class="chapter" data-level="2.3.2" data-path="rstudio.html"><a href="rstudio.html#downloading-r-on-mac"><i class="fa fa-check"></i><b>2.3.2</b> Downloading R on Mac</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="rstudio.html"><a href="rstudio.html#install-and-open-rstudio"><i class="fa fa-check"></i><b>2.4</b> Install and Open RStudio</a></li>
<li class="chapter" data-level="2.5" data-path="rstudio.html"><a href="rstudio.html#creating-an-r-project"><i class="fa fa-check"></i><b>2.5</b> Creating an R Project</a></li>
<li class="chapter" data-level="2.6" data-path="rstudio.html"><a href="rstudio.html#navigating-rstudio"><i class="fa fa-check"></i><b>2.6</b> Navigating RStudio</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="rstudio.html"><a href="rstudio.html#opening-the-source-pane"><i class="fa fa-check"></i><b>2.6.1</b> Opening the Source Pane</a></li>
<li class="chapter" data-level="2.6.2" data-path="rstudio.html"><a href="rstudio.html#checking-our-working-directory"><i class="fa fa-check"></i><b>2.6.2</b> Checking our Working Directory</a></li>
<li class="chapter" data-level="2.6.3" data-path="rstudio.html"><a href="rstudio.html#set_wd"><i class="fa fa-check"></i><b>2.6.3</b> Setting up a new Working Directory</a></li>
<li class="chapter" data-level="2.6.4" data-path="rstudio.html"><a href="rstudio.html#changing-some-default-settings"><i class="fa fa-check"></i><b>2.6.4</b> Changing some default settings</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="rstudio.html"><a href="rstudio.html#writing-our-first-r-code"><i class="fa fa-check"></i><b>2.7</b> Writing our first R Code</a></li>
<li class="chapter" data-level="2.8" data-path="rstudio.html"><a href="rstudio.html#console-vs-source-script"><i class="fa fa-check"></i><b>2.8</b> Console vs Source Script</a></li>
<li class="chapter" data-level="2.9" data-path="rstudio.html"><a href="rstudio.html#firstpieceofcode"><i class="fa fa-check"></i><b>2.9</b> Let’s write some statistical code</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="rstudio.html"><a href="rstudio.html#calculating-descriptive-statistics"><i class="fa fa-check"></i><b>2.9.1</b> Calculating Descriptive Statistics</a></li>
<li class="chapter" data-level="2.9.2" data-path="rstudio.html"><a href="rstudio.html#creating-a-visualisation"><i class="fa fa-check"></i><b>2.9.2</b> Creating a Visualisation</a></li>
<li class="chapter" data-level="2.9.3" data-path="rstudio.html"><a href="rstudio.html#saving-the-plot"><i class="fa fa-check"></i><b>2.9.3</b> Saving the Plot</a></li>
<li class="chapter" data-level="2.9.4" data-path="rstudio.html"><a href="rstudio.html#comments"><i class="fa fa-check"></i><b>2.9.4</b> Comments</a></li>
<li class="chapter" data-level="2.9.5" data-path="rstudio.html"><a href="rstudio.html#why-comments-are-important"><i class="fa fa-check"></i><b>2.9.5</b> Why Comments Are Important</a></li>
<li class="chapter" data-level="2.9.6" data-path="rstudio.html"><a href="rstudio.html#best-practices-for-comments"><i class="fa fa-check"></i><b>2.9.6</b> Best Practices for Comments</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="rstudio.html"><a href="rstudio.html#summary"><i class="fa fa-check"></i><b>2.10</b> Summary</a></li>
<li class="chapter" data-level="2.11" data-path="rstudio.html"><a href="rstudio.html#glossary"><i class="fa fa-check"></i><b>2.11</b> Glossary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="programming1.html"><a href="programming1.html"><i class="fa fa-check"></i><b>3</b> <strong>Programming Fundamentals in R (Part I)</strong></a>
<ul>
<li class="chapter" data-level="3.1" data-path="programming1.html"><a href="programming1.html#how-to-read-this-chapter"><i class="fa fa-check"></i><b>3.1</b> How to read this chapter</a></li>
<li class="chapter" data-level="3.2" data-path="programming1.html"><a href="programming1.html#activities"><i class="fa fa-check"></i><b>3.2</b> Activities</a></li>
<li class="chapter" data-level="3.3" data-path="programming1.html"><a href="programming1.html#using-the-console"><i class="fa fa-check"></i><b>3.3</b> Using the Console</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="programming1.html"><a href="programming1.html#typing-commands-in-the-console"><i class="fa fa-check"></i><b>3.3.1</b> Typing Commands in the Console</a></li>
<li class="chapter" data-level="3.3.2" data-path="programming1.html"><a href="programming1.html#console-syntax-aka-im-ron-burgundy"><i class="fa fa-check"></i><b>3.3.2</b> Console Syntax (Aka “I’m Ron Burgundy?”)</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="programming1.html"><a href="programming1.html#data-types"><i class="fa fa-check"></i><b>3.4</b> Data Types</a></li>
<li class="chapter" data-level="3.5" data-path="programming1.html"><a href="programming1.html#basic-data-types-in-r"><i class="fa fa-check"></i><b>3.5</b> Basic Data types in R</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="programming1.html"><a href="programming1.html#character"><i class="fa fa-check"></i><b>3.5.1</b> Character</a></li>
<li class="chapter" data-level="3.5.2" data-path="programming1.html"><a href="programming1.html#numeric-or-double"><i class="fa fa-check"></i><b>3.5.2</b> Numeric (or Double)</a></li>
<li class="chapter" data-level="3.5.3" data-path="programming1.html"><a href="programming1.html#integer"><i class="fa fa-check"></i><b>3.5.3</b> Integer</a></li>
<li class="chapter" data-level="3.5.4" data-path="programming1.html"><a href="programming1.html#logical-otherwise-know-as-boolean"><i class="fa fa-check"></i><b>3.5.4</b> Logical (otherwise know as Boolean)</a></li>
<li class="chapter" data-level="3.5.5" data-path="programming1.html"><a href="programming1.html#data-types---so-what"><i class="fa fa-check"></i><b>3.5.5</b> Data Types - So What?</a></li>
<li class="chapter" data-level="3.5.6" data-path="programming1.html"><a href="programming1.html#data-type-transformation"><i class="fa fa-check"></i><b>3.5.6</b> Data Type Transformation</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="programming1.html"><a href="programming1.html#variables"><i class="fa fa-check"></i><b>3.6</b> Variables</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="programming1.html"><a href="programming1.html#whats-in-a-name-conventions-for-naming-variables"><i class="fa fa-check"></i><b>3.6.1</b> What’s in a name? (Conventions for Naming Variables)</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="programming1.html"><a href="programming1.html#data-structures"><i class="fa fa-check"></i><b>3.7</b> Data Structures</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="programming1.html"><a href="programming1.html#vectors"><i class="fa fa-check"></i><b>3.7.1</b> Vectors</a></li>
<li class="chapter" data-level="3.7.2" data-path="programming1.html"><a href="programming1.html#data-frames"><i class="fa fa-check"></i><b>3.7.2</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="programming1.html"><a href="programming1.html#summary-1"><i class="fa fa-check"></i><b>3.8</b> Summary</a></li>
<li class="chapter" data-level="3.9" data-path="programming1.html"><a href="programming1.html#glossary-1"><i class="fa fa-check"></i><b>3.9</b> Glossary</a></li>
<li class="chapter" data-level="3.10" data-path="programming1.html"><a href="programming1.html#variable-name-table"><i class="fa fa-check"></i><b>3.10</b> Variable Name Table</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="programming2.html"><a href="programming2.html"><i class="fa fa-check"></i><b>4</b> <strong>Programming Fundamentals in R (Part II)</strong></a>
<ul>
<li class="chapter" data-level="4.1" data-path="programming2.html"><a href="programming2.html#how-to-read-this-chapter-1"><i class="fa fa-check"></i><b>4.1</b> How to read this chapter</a></li>
<li class="chapter" data-level="4.2" data-path="programming2.html"><a href="programming2.html#activities-1"><i class="fa fa-check"></i><b>4.2</b> Activities</a></li>
<li class="chapter" data-level="4.3" data-path="programming2.html"><a href="programming2.html#functions"><i class="fa fa-check"></i><b>4.3</b> Functions</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="programming2.html"><a href="programming2.html#the-syntax-for-creating-a-function"><i class="fa fa-check"></i><b>4.3.1</b> <strong>The Syntax for Creating a Function</strong></a></li>
<li class="chapter" data-level="4.3.2" data-path="programming2.html"><a href="programming2.html#creating-a-simple-function-1-argument"><i class="fa fa-check"></i><b>4.3.2</b> Creating a Simple Function (1-Argument)</a></li>
<li class="chapter" data-level="4.3.3" data-path="programming2.html"><a href="programming2.html#calling-the-function"><i class="fa fa-check"></i><b>4.3.3</b> <strong>Calling the Function</strong></a></li>
<li class="chapter" data-level="4.3.4" data-path="programming2.html"><a href="programming2.html#creating-a-multi-argument-function"><i class="fa fa-check"></i><b>4.3.4</b> Creating a Multi-Argument Function</a></li>
<li class="chapter" data-level="4.3.5" data-path="programming2.html"><a href="programming2.html#some-important-features-about-functions"><i class="fa fa-check"></i><b>4.3.5</b> Some Important Features about Functions</a></li>
<li class="chapter" data-level="4.3.6" data-path="programming2.html"><a href="programming2.html#how-to-search-for-help-on-functions-in-r"><i class="fa fa-check"></i><b>4.3.6</b> How to Search for Help on Functions in R</a></li>
<li class="chapter" data-level="4.3.7" data-path="programming2.html"><a href="programming2.html#psa-dont-feel-frustrated"><i class="fa fa-check"></i><b>4.3.7</b> PSA: Don’t Feel Frustrated</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="programming2.html"><a href="programming2.html#r-packages"><i class="fa fa-check"></i><b>4.4</b> R Packages</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="programming2.html"><a href="programming2.html#what-are-r-packages"><i class="fa fa-check"></i><b>4.4.1</b> What Are R Packages?</a></li>
<li class="chapter" data-level="4.4.2" data-path="programming2.html"><a href="programming2.html#installing-and-loading-r-package"><i class="fa fa-check"></i><b>4.4.2</b> Installing and Loading R Package</a></li>
<li class="chapter" data-level="4.4.3" data-path="programming2.html"><a href="programming2.html#loading-packages"><i class="fa fa-check"></i><b>4.4.3</b> Loading Packages</a></li>
<li class="chapter" data-level="4.4.4" data-path="programming2.html"><a href="programming2.html#testing-a-package"><i class="fa fa-check"></i><b>4.4.4</b> Testing a Package</a></li>
<li class="chapter" data-level="4.4.5" data-path="programming2.html"><a href="programming2.html#troubleshooting-common-issues"><i class="fa fa-check"></i><b>4.4.5</b> Troubleshooting Common Issues</a></li>
<li class="chapter" data-level="4.4.6" data-path="programming2.html"><a href="programming2.html#best-practices-for-installing-and-loading-packages"><i class="fa fa-check"></i><b>4.4.6</b> Best Practices for Installing and Loading Packages</a></li>
<li class="chapter" data-level="4.4.7" data-path="programming2.html"><a href="programming2.html#summary-2"><i class="fa fa-check"></i><b>4.4.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="programming2.html"><a href="programming2.html#importing"><i class="fa fa-check"></i><b>4.5</b> Importing and Exporting Data</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="programming2.html"><a href="programming2.html#importing-csv-files."><i class="fa fa-check"></i><b>4.5.1</b> Importing CSV files.</a></li>
<li class="chapter" data-level="4.5.2" data-path="programming2.html"><a href="programming2.html#exporting-datasets-in-r"><i class="fa fa-check"></i><b>4.5.2</b> Exporting Datasets in R</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="programming2.html"><a href="programming2.html#summary-3"><i class="fa fa-check"></i><b>4.6</b> Summary</a></li>
<li class="chapter" data-level="4.7" data-path="programming2.html"><a href="programming2.html#glossary-2"><i class="fa fa-check"></i><b>4.7</b> Glossary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html"><i class="fa fa-check"></i><b>5</b> Descriptive Statistics and T-Tests in R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#how-to-read-this-chapter-2"><i class="fa fa-check"></i><b>5.1</b> How to read this chapter</a></li>
<li class="chapter" data-level="5.2" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#activities-2"><i class="fa fa-check"></i><b>5.2</b> Activities</a></li>
<li class="chapter" data-level="5.3" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#between-groups-comparisons"><i class="fa fa-check"></i><b>5.3</b> Between-Groups Comparisons</a></li>
<li class="chapter" data-level="5.4" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#descriptive-statistics"><i class="fa fa-check"></i><b>5.4</b> Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#writing-up-the-results-of-an-independent-samples-t-test"><i class="fa fa-check"></i><b>5.4.1</b> Writing up the results of an independent samples t-test</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#statistically-comparing-between-2-groups-independent-samples-t-test-unpaired-t-test"><i class="fa fa-check"></i><b>5.5</b> Statistically comparing between 2 groups: Independent samples t-test (unpaired t-test)</a></li>
<li class="chapter" data-level="5.6" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#effect-sizes"><i class="fa fa-check"></i><b>5.6</b> Effect sizes!</a></li>
<li class="chapter" data-level="5.7" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#within-subjects-comparisons"><i class="fa fa-check"></i><b>5.7</b> Within-Subjects Comparisons</a></li>
<li class="chapter" data-level="5.8" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#descriptive-statistics-for-a-paired-samples-t-test"><i class="fa fa-check"></i><b>5.8</b> Descriptive Statistics for a paired-samples t-test</a></li>
<li class="chapter" data-level="5.9" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#power-analyses"><i class="fa fa-check"></i><b>5.9</b> Power analyses</a></li>
<li class="chapter" data-level="5.10" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#power-analysis-for-an-independent-samples-t-test"><i class="fa fa-check"></i><b>5.10</b> Power analysis for an independent samples t-test</a></li>
<li class="chapter" data-level="5.11" data-path="descriptive-statistics-and-t-tests-in-r.html"><a href="descriptive-statistics-and-t-tests-in-r.html#power-analysis-for-a-paired-samples-t-test"><i class="fa fa-check"></i><b>5.11</b> Power analysis for a paired-samples t-test</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="correlation-in-r.html"><a href="correlation-in-r.html"><i class="fa fa-check"></i><b>6</b> Correlation in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="correlation-in-r.html"><a href="correlation-in-r.html#how-to-read-this-chapter-3"><i class="fa fa-check"></i><b>6.1</b> How to read this chapter</a></li>
<li class="chapter" data-level="6.2" data-path="correlation-in-r.html"><a href="correlation-in-r.html#activities-3"><i class="fa fa-check"></i><b>6.2</b> Activities</a></li>
<li class="chapter" data-level="6.3" data-path="correlation-in-r.html"><a href="correlation-in-r.html#correlations"><i class="fa fa-check"></i><b>6.3</b> Correlations</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to R for Advanced Research Methods (PS6183)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="correlation-in-r" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Correlation in R<a href="correlation-in-r.html#correlation-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this weeks workshop, we are going to learn how to perform correlation analyses along with the relevant descriptive statistics and assumption checks.</p>
<p><img src="img/Corrs.png" alt="Correlations Overview" /> By the end of this session, you will be able to:</p>
<ul>
<li><p>Use the jmv package to run descriptive statistics and check assumptions.</p></li>
<li><p>Conduct a simple correlation in R.</p></li>
<li><p>Conduct a multiple correlation R.</p></li>
<li><p>Learn how to make pretty correlation graphs.</p></li>
<li><p>Conduct an apriori power analysis in R for correlations.</p></li>
</ul>
<div id="how-to-read-this-chapter-3" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> How to read this chapter<a href="correlation-in-r.html#how-to-read-this-chapter-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This chapter aims to supplement your in-lecture learning about correlations, to recap when and why you might use them, and to build on this knowledge to show how to conduct correlations in R.</p>
</div>
<div id="activities-3" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Activities<a href="correlation-in-r.html#activities-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As in previous sessions there are several activities associated with this chapter. <a href="https://ryandonovan.quarto.pub/week5---activities/">You can find them here</a> or on Canvas under the <strong>Week 5 module</strong>.</p>
</div>
<div id="correlations" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Correlations<a href="correlation-in-r.html#correlations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Todays data was collected from a cross-sectional study examining the relationship between sleep difficulty, anxiety, and depression.</p>
<p>After loading the datasets, it’s always good practice to inspect it before doing any analyses. You can use the head() function to get an overview of the sleep quality dataset:</p>
<p>Now that our environment is set up and our dataset is loaded, we are ready to dive into descriptive statistics &amp; check our assumptions.</p>
<p>Last week we learned how to use descriptives function to do both of these things.</p>
<p>Let’s imagine we’re interested in investigating the relationship between depression and anxiety. Specifically we predict that higher levels of depression (as shown by higher scores) will be associated with higher anxiety levels (as shown by higher scores).</p>
<p><strong>In this case:</strong></p>
<p>Our variables are 1) depression and 2) anxiety</p>
<p>We could specify our hypothesis as such:</p>
<p><strong>H1:</strong> We predict that higher depression will be positively correlated with higher anxiety scores.</p>
<p><strong>H0 (Null hypothesis):</strong> There will not be a significant correlation between depression scores and anxiety scores</p>
<p>Note that as we do specify the direction of the association / correlation that this is a directional hypothesis.</p>
<p>As we are interested in the relationship between two continuous variables, this would be best addressed via a simple correlation. Before we can do this, there are a couple of preliminary steps we need to take. First, we need to check the assumptions required for a correlation.</p>
<p>Remember that for correlations the two main outcomes of interest are <strong>direction</strong> and <strong>strength</strong></p>
<ul>
<li><p><strong>Direction</strong>: In a positive correlation one variable goes up as the other does. In a negative correlation as one variable goes up the other goes down.</p></li>
<li><p><strong>Strength</strong>: Measured via Pearsons r usually, spans form 0-0.2 (negligible), to 0.9-1 (very strong).</p></li>
</ul>
<div class="float">
<img src="img/StrenDir.png" alt="Correlation Strength &amp; Direction" />
<div class="figcaption">Correlation Strength &amp; Direction</div>
</div>
<p><strong>Checking our assumptions</strong></p>
<p>There are two main types of correlation you might use: Pearsons and Spearmans.</p>
<p><strong>Pearsons Correlation:</strong> This type of correlation assumes a linear relationship between variables.</p>
<p><strong>Spearmans Correlation:</strong> This type of correlation relies on ranks and is more robust against outliers, but is less efficient for large datasets.</p>
<p>For the purposes of this workshop, you would typically use Pearsons correlation, unless the below assumptions are not met.</p>
<p><strong>There are several key assumptions for conducting Pearsons simple correlation:</strong></p>
<ol style="list-style-type: lower-alpha">
<li>The data are continuous, and are either interval or ratio.</li>
</ol>
<p><strong>Interval data:</strong> Data that is measured on a numeric scale with equal distance between adjacent values, that does not have a true zero. This is a very common data type in research (e.g. Test scores, IQ etc).</p>
<p><strong>Ratio data:</strong> Data that is measured on a numeric scale with equal distance between adjacent values, that has a true zero (e.g. Height, Weight etc).</p>
<p>For the purposes of this workshop we know our two variables are outcomes on a wellbeing test, as such they are interval data and this assumption has been met</p>
<ol start="2" style="list-style-type: lower-alpha">
<li>There is a data point for each participant for both variables.</li>
</ol>
<ul>
<li>To check this assumption we can simply check if there is any missing data, conveniently descriptives automatically tells us this.</li>
</ul>
<ol start="3" style="list-style-type: lower-alpha">
<li>The data are normally distributed for your two variables. Reminder that we can use Shapiro Wilks test to test for this: A <strong>significant p-value (p &lt; 0.05)</strong> means that the <em>assumption has been violated</em>, and you cannot run Pearsons correlation. A <strong>not significant p-value (p &gt; 0.05)</strong> means that the <em>assumption has been met</em>, and you can proceed.</li>
</ol>
<p>For linear models we also use our qqplot to test for this for now. If the dots follow the line for the residuals then this assumption has been met.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="correlation-in-r.html#cb237-1" tabindex="-1"></a><span class="fu">descriptives</span>(df_sleep, <span class="co"># our data</span></span>
<span id="cb237-2"><a href="correlation-in-r.html#cb237-2" tabindex="-1"></a>             <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">&quot;Depression&quot;</span>, <span class="st">&quot;Anxiety&quot;</span>), <span class="co"># our two variables</span></span>
<span id="cb237-3"><a href="correlation-in-r.html#cb237-3" tabindex="-1"></a>             <span class="at">hist =</span> <span class="cn">TRUE</span>, <span class="co"># this generates a histogram</span></span>
<span id="cb237-4"><a href="correlation-in-r.html#cb237-4" tabindex="-1"></a>             <span class="at">sw =</span> <span class="cn">TRUE</span>, <span class="co"># this runs shapiro-wilks test</span></span>
<span id="cb237-5"><a href="correlation-in-r.html#cb237-5" tabindex="-1"></a>             <span class="at">qq=</span><span class="cn">TRUE</span>) <span class="co"># this generates a qq plot </span></span></code></pre></div>
<ol start="4" style="list-style-type: lower-alpha">
<li>The relationship between the two variables is linear. We can check this assumption via a scatterplot to visualise the 2 variables. The syntax is below:</li>
</ol>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="correlation-in-r.html#cb238-1" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x=</span>DataframeName<span class="sc">$</span>Variable1,<span class="at">y=</span>DataframeName<span class="sc">$</span>Variable1)</span></code></pre></div>
<p>If there is a straight line in the dots then we can assume this assumption has been met.</p>
<ol start="5" style="list-style-type: lower-alpha">
<li>The assumption of homoscedasticity. For this assumption we could check this visually by to creating a plot of the residuals to test for this. For now however we will use a Breusch-Pagan test (1979). For this test: A <strong>significant p-value (p &lt; 0.05)</strong> means that the <em>assumption has been violated</em>, and you cannot run Pearsons correlation. A <strong>not significant p-value (p &gt; 0.05)</strong> means that the <em>assumption has been met</em>, and you can proceed.</li>
</ol>
<p>This test will come up again next week for regressions (As will plotting residuals) but for now to do this we will create a linear model, and then use the function check_heteroscasticity from the performance package.</p>
<p>If we get a non-significant p-value then the data is homoscedastic and our assumption has been met. The syntax for this is:</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="correlation-in-r.html#cb239-1" tabindex="-1"></a>nameForModel <span class="ot">&lt;-</span> <span class="fu">lm</span>(DV <span class="sc">~</span> IV, <span class="at">data =</span> ourDataFrame) <span class="co"># here we are creating an object &quot;nameForModel&quot; which contatins a linear model of our DV ~ IV </span></span>
<span id="cb239-2"><a href="correlation-in-r.html#cb239-2" tabindex="-1"></a><span class="fu">check_heteroscedasticity</span>(nameForModel) <span class="co"># this function performs a Breusch-Pagan test for our model</span></span></code></pre></div>
<p>As we can see our assumptions have been met we can use a Pearson correlation to test our hypotheses.</p>
<p><strong>Running the Simple Correlation</strong></p>
<p>We use the correlation function to perform the correlation. The syntax is:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="correlation-in-r.html#cb240-1" tabindex="-1"></a><span class="co"># Remember you need to edit the specific names/variables below to make it work for our data and needs</span></span>
<span id="cb240-2"><a href="correlation-in-r.html#cb240-2" tabindex="-1"></a></span>
<span id="cb240-3"><a href="correlation-in-r.html#cb240-3" tabindex="-1"></a><span class="fu">cor.test</span>(DataframeName<span class="sc">$</span>Variable1, DataframeName<span class="sc">$</span>Variable2, <span class="at">method =</span> <span class="st">&quot;pearson&quot;</span> OR <span class="st">&quot;spearman&quot;</span>, <span class="at">alternative =</span> <span class="st">&quot;two.sided&quot;</span> or <span class="st">&quot;less&quot;</span> or <span class="st">&quot;greater&quot;</span>)</span>
<span id="cb240-4"><a href="correlation-in-r.html#cb240-4" tabindex="-1"></a></span>
<span id="cb240-5"><a href="correlation-in-r.html#cb240-5" tabindex="-1"></a><span class="co"># alternative specifies whether it&#39;s a one or two-sided test, or one-sided. &quot;greater&quot; corresponds to positive association, &quot;less&quot; to negative association</span></span></code></pre></div>
<p><strong>Here’s how we might write up the results in APA style:</strong></p>
<p>A Pearsons correlation was conducted to assess the relationship between depression (M= <strong>Depression Mean</strong>, SD= <strong>Depression Standard Deviation</strong>) and anxiety scores (M= <strong>Anxiety Mean</strong>, SD= <strong>Anxiety Standard Deviation</strong>). The test showed that there was a significant positive correlation between the two variables r(<strong>degrees of freedom</strong>) = <strong>Pearsons r</strong>, p = <strong>p value</strong>. As such we reject the null hypothesis.</p>
<p><strong>Multiple Correlations</strong></p>
<p>Sometimes we’re interested in the associations between multiple variables. In todays dataset we have sleep difficulty, optimism, depression, and anxiety. As such we might be interested in the relationship between all four variables.</p>
<p>In addition to our earlier prediction regarding depression and anxiety we could also predict:</p>
<ol style="list-style-type: decimal">
<li><p>that greater sleep difficulty (as shown by higher values) will be associated with higher anxiety and depression levels (as shown by higher scores).</p></li>
<li><p>that greater optimism (as shown by higher values) will be associated with lower anxiety and depression levels (as shown by lower scores).</p></li>
</ol>
<p>In this case:</p>
<p>Our variables are 1) depression, 2) anxiety, 3) sleep difficulty, and 4) optimism.</p>
<p>As we are interested in the relationship between four continuous variables, this would be best addressed via a multiple correlation. Before we can do this, there are a couple of preliminary steps we need to take.</p>
<p>A lot of the steps are very similar to a simple correlation. So we can refer to the above sections for help if we get unsure.</p>
<p><em>Assumptions</em> The assumptions for a multiple correlation are the same as for a simple correlation, we just need to check for all our variables. The pairs.panels function can be helpful to get the relevant visualisations to check our assumptions for all variables.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="correlation-in-r.html#cb241-1" tabindex="-1"></a><span class="fu">pairs.panels</span>(DataFrameName)</span></code></pre></div>
<p>Notice that pairs.panel gives us the relevant outputs for all variables (including paritipant number.. which we can see is not normally distributed)</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="correlation-in-r.html#cb242-1" tabindex="-1"></a><span class="fu">pairs.panels</span>(df_sleep)</span></code></pre></div>
<p><strong>Running the multiple correlation</strong> We need a slightly different syntax for multiple correlations:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="correlation-in-r.html#cb243-1" tabindex="-1"></a><span class="fu">correlation</span>(DataframeName, <span class="co"># our data</span></span>
<span id="cb243-2"><a href="correlation-in-r.html#cb243-2" tabindex="-1"></a>            <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;Variable1&quot;</span>, <span class="st">&quot;Variable2&quot;</span>, <span class="st">&quot;Variable3&quot;</span>, <span class="st">&quot;Variable4&quot;</span>), <span class="co"># our variables</span></span>
<span id="cb243-3"><a href="correlation-in-r.html#cb243-3" tabindex="-1"></a>             <span class="at">method =</span> <span class="st">&quot;pearson&quot;</span> OR <span class="st">&quot;spearman&quot;</span>,</span>
<span id="cb243-4"><a href="correlation-in-r.html#cb243-4" tabindex="-1"></a>            <span class="at">p_adjust =</span> <span class="st">&quot;bonferroni&quot;</span>) <span class="co"># our bonferroni adjustment for multiple comparisons</span></span>
<span id="cb243-5"><a href="correlation-in-r.html#cb243-5" tabindex="-1"></a></span>
<span id="cb243-6"><a href="correlation-in-r.html#cb243-6" tabindex="-1"></a><span class="co"># Note that we do not specify the direction of our predicted correlation here as some may be positive and others may be negative</span></span></code></pre></div>
<p><strong>Multiple Comparisons</strong> You may recall from your lectures that conducting multiple statistical tests can be problematic in regards to our alpha level.</p>
<p>When we set our alpha at 0.05 that is setting our Type 1 (False Positive) rate at 5%. If we then run multiple tests however that rate goes up, with the rate increasing with every test you run. One way to avoid this problem is to use adjusted p-values. The one we’re using here is the bonferroni adjustment, which multiplies the p value by the number of comparisons.</p>
<div class="float">
<img src="img/Bonferroni.png" alt="Bonferroni Adjustment" />
<div class="figcaption">Bonferroni Adjustment</div>
</div>
<p><strong>Correlation Matrices</strong> We need to visualize our data not only to check our assumptions but also to include in our write-up / results / dissertations. As you may see above the write-up for a multiple correlation can be lengthy/confusing, and a good graphic can help your reader (and you) understand the results more easily.</p>
<p>Today we’ll be using the ggcorrplot function. We will learn a lot more about making visualizations in week 9, but for today we will learn how to clearly visualize our correlation results.</p>
<p>If you type in ?ggcorrplot to your console you can see there are many optional arguments you can use to customize your graph.</p>
<p><strong>NB</strong> to use ggcorrplot you need to have saved the results of your correlation using the following syntax:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="correlation-in-r.html#cb244-1" tabindex="-1"></a>OutputName <span class="ot">&lt;-</span> <span class="fu">correlation</span>(DataframeName, <span class="co"># our data</span></span>
<span id="cb244-2"><a href="correlation-in-r.html#cb244-2" tabindex="-1"></a>            <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;Variable1&quot;</span>, <span class="st">&quot;Variable2&quot;</span>, <span class="st">&quot;Variable3&quot;</span>, <span class="st">&quot;Variable4&quot;</span>), <span class="co"># our variables</span></span>
<span id="cb244-3"><a href="correlation-in-r.html#cb244-3" tabindex="-1"></a>             <span class="at">method =</span> <span class="st">&quot;pearson&quot;</span> OR <span class="st">&quot;spearman&quot;</span>,</span>
<span id="cb244-4"><a href="correlation-in-r.html#cb244-4" tabindex="-1"></a>            <span class="at">p_adjust =</span> <span class="st">&quot;bonferroni&quot;</span>) <span class="co"># our bonferroni adjustment for multiple comparisons</span></span>
<span id="cb244-5"><a href="correlation-in-r.html#cb244-5" tabindex="-1"></a></span>
<span id="cb244-6"><a href="correlation-in-r.html#cb244-6" tabindex="-1"></a><span class="co"># Note that we do not specify the direction of our predicted correlation here as some may be positive and others may be negative</span></span></code></pre></div>
<p><strong>Power Analyses</strong> Here we are going to learn about how to conduct a power analysis for a correlation.</p>
<p>As you may recall there are some key pieces of information we need for a power analysis, and some specifics that we need for a correlation:</p>
<ul>
<li><p>Alpha level (typically 0.05 in Psychology and the social sciences)</p></li>
<li><p>The minimum correlation size of interest</p></li>
<li><p>Our desired power</p></li>
<li><p>If our test is one or two-tailed (i.e. do we have a directional or nondirectional hypothesis)</p></li>
</ul>
<p>The syntax for conducting an apriori statistical power analysis for a simple correlation is the following:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="correlation-in-r.html#cb245-1" tabindex="-1"></a><span class="co"># Conduct power analysis for a simple correlation</span></span>
<span id="cb245-2"><a href="correlation-in-r.html#cb245-2" tabindex="-1"></a><span class="fu">pwr.r.test</span>(<span class="at">r =</span> <span class="fl">0.2</span>, <span class="co"># your expected correlation value</span></span>
<span id="cb245-3"><a href="correlation-in-r.html#cb245-3" tabindex="-1"></a>           <span class="at">sig.level =</span> <span class="fl">0.05</span>, <span class="co"># Significance level</span></span>
<span id="cb245-4"><a href="correlation-in-r.html#cb245-4" tabindex="-1"></a>           <span class="at">power =</span> <span class="fl">0.80</span>, <span class="co"># Desired power level</span></span>
<span id="cb245-5"><a href="correlation-in-r.html#cb245-5" tabindex="-1"></a><span class="at">alternative =</span> <span class="st">&quot;two.sided&quot;</span>) <span class="co"># Indicates a two-tailed test, #can be changed to less or greater</span></span></code></pre></div>

</div>
</div>















            </section>

          </div>
        </div>
      </div>
<a href="descriptive-statistics-and-t-tests-in-r.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cjvanlissa/gitbook-demo/edit/master/06-correlational.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rintro_demo.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Week 10 - Data Wrangling Part II</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="11-workshop-activities_files/libs/clipboard/clipboard.min.js"></script>
<script src="11-workshop-activities_files/libs/quarto-html/quarto.js"></script>
<script src="11-workshop-activities_files/libs/quarto-html/popper.min.js"></script>
<script src="11-workshop-activities_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="11-workshop-activities_files/libs/quarto-html/anchor.min.js"></script>
<link href="11-workshop-activities_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="11-workshop-activities_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="11-workshop-activities_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="11-workshop-activities_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="11-workshop-activities_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#lets-get-set-up" id="toc-lets-get-set-up" class="nav-link active" data-scroll-target="#lets-get-set-up">Let’s Get Set Up</a></li>
  <li><a href="#activity-1-set-up-your-working-directory-r-script" id="toc-activity-1-set-up-your-working-directory-r-script" class="nav-link" data-scroll-target="#activity-1-set-up-your-working-directory-r-script">Activity 1: Set Up Your Working Directory &amp; R Script</a></li>
  <li><a href="#activity-2-installing-loading-r-packages" id="toc-activity-2-installing-loading-r-packages" class="nav-link" data-scroll-target="#activity-2-installing-loading-r-packages">Activity 2: Installing / Loading R Packages</a></li>
  <li><a href="#activity-3-load-in-your-datasets" id="toc-activity-3-load-in-your-datasets" class="nav-link" data-scroll-target="#activity-3-load-in-your-datasets">Activity 3: Load in your datasets</a></li>
  <li><a href="#activity-4-transforming-data-from-wide-to-long" id="toc-activity-4-transforming-data-from-wide-to-long" class="nav-link" data-scroll-target="#activity-4-transforming-data-from-wide-to-long">Activity 4: Transforming Data from Wide to Long</a>
  <ul>
  <li><a href="#our-dataset" id="toc-our-dataset" class="nav-link" data-scroll-target="#our-dataset">Our Dataset</a></li>
  <li><a href="#pivoting-from-wide-to-long-with-pivot_longer-function" id="toc-pivoting-from-wide-to-long-with-pivot_longer-function" class="nav-link" data-scroll-target="#pivoting-from-wide-to-long-with-pivot_longer-function">Pivoting from Wide to Long with <code>pivot_longer()</code> function</a></li>
  </ul></li>
  <li><a href="#activity-5-transforming-data-from-long-to-wide" id="toc-activity-5-transforming-data-from-long-to-wide" class="nav-link" data-scroll-target="#activity-5-transforming-data-from-long-to-wide">Activity 5: Transforming Data from Long to Wide</a></li>
  <li><a href="#activity-6-handling-missing-data" id="toc-activity-6-handling-missing-data" class="nav-link" data-scroll-target="#activity-6-handling-missing-data">Activity 6: Handling Missing Data</a>
  <ul>
  <li><a href="#our-dataset-1" id="toc-our-dataset-1" class="nav-link" data-scroll-target="#our-dataset-1">Our Dataset</a></li>
  </ul></li>
  <li><a href="#activity-7-merging-data-joining-different-datasets-together" id="toc-activity-7-merging-data-joining-different-datasets-together" class="nav-link" data-scroll-target="#activity-7-merging-data-joining-different-datasets-together">Activity 7: Merging Data (Joining Different Datasets Together)</a>
  <ul>
  <li><a href="#inner_join" id="toc-inner_join" class="nav-link" data-scroll-target="#inner_join">Inner_Join</a></li>
  <li><a href="#left_join" id="toc-left_join" class="nav-link" data-scroll-target="#left_join">Left_Join</a></li>
  <li><a href="#other-join-functions" id="toc-other-join-functions" class="nav-link" data-scroll-target="#other-join-functions">Other Join Functions</a></li>
  </ul></li>
  <li><a href="#activity-8-dealing-with-reverse-scored-items" id="toc-activity-8-dealing-with-reverse-scored-items" class="nav-link" data-scroll-target="#activity-8-dealing-with-reverse-scored-items">Activity 8: Dealing with Reverse Scored Items</a>
  <ul>
  <li><a href="#why-reverse-scoring-is-needed" id="toc-why-reverse-scoring-is-needed" class="nav-link" data-scroll-target="#why-reverse-scoring-is-needed">Why Reverse Scoring Is Needed</a></li>
  </ul></li>
  <li><a href="#step-by-step-example-in-r" id="toc-step-by-step-example-in-r" class="nav-link" data-scroll-target="#step-by-step-example-in-r">Step-by-Step Example in R</a>
  <ul>
  <li><a href="#step-1-create-the-dataset" id="toc-step-1-create-the-dataset" class="nav-link" data-scroll-target="#step-1-create-the-dataset">Step 1: Create the Dataset</a></li>
  <li><a href="#step-2-reverse-score-the-item" id="toc-step-2-reverse-score-the-item" class="nav-link" data-scroll-target="#step-2-reverse-score-the-item">Step 2: Reverse Score the Item</a></li>
  </ul></li>
  <li><a href="#reverse-scoring-multiple-items" id="toc-reverse-scoring-multiple-items" class="nav-link" data-scroll-target="#reverse-scoring-multiple-items">Reverse Scoring Multiple Items</a>
  <ul>
  <li><a href="#how-to-reverse-multiple-items-efficiently" id="toc-how-to-reverse-multiple-items-efficiently" class="nav-link" data-scroll-target="#how-to-reverse-multiple-items-efficiently">How to Reverse Multiple Items Efficiently</a></li>
  <li><a href="#step-1-identify-the-reverse-scored-items" id="toc-step-1-identify-the-reverse-scored-items" class="nav-link" data-scroll-target="#step-1-identify-the-reverse-scored-items">Step 1: Identify the Reverse-Scored Items</a></li>
  <li><a href="#step-2-reverse-the-scores-using-a-formula" id="toc-step-2-reverse-the-scores-using-a-formula" class="nav-link" data-scroll-target="#step-2-reverse-the-scores-using-a-formula">Step 2: Reverse the Scores Using a Formula</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 10 - Data Wrangling Part II</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>In contrast to the last set of activities, this section is more of a reference guide than an end-to-end cleaning example. That’s because the tools you learn here might not always pop up, or at least are unlikely to all pop up in the one data frame. Nonetheless, when you combine the functions you learn here to clean data with the functions from last week, you will be able to handle an impressive amount (probably around 80%) of any data cleaning challenges you will encounter in your research.</p>
<p>By the end of this session, you should be capable of the following:</p>
<ul>
<li><p>Understand the concepts of wide and long data and be capable of pivoting (i.e., transforming) from one format to another.</p></li>
<li><p>Know how to merge together separate data frames into one file that you can clean.</p></li>
<li><p>Identifying and handling missing data (NA values).</p></li>
</ul>
<section id="lets-get-set-up" class="level2">
<h2 class="anchored" data-anchor-id="lets-get-set-up">Let’s Get Set Up</h2>
<p>Let’s begin by ensuring your working environment is ready for today’s session. Open RStudio or Posit Cloud and complete the following tasks to set everything up.</p>
</section>
<section id="activity-1-set-up-your-working-directory-r-script" class="level2">
<h2 class="anchored" data-anchor-id="activity-1-set-up-your-working-directory-r-script">Activity 1: Set Up Your Working Directory &amp; R Script</h2>
<p>Make sure you have a <code>week10</code> inside your course directory and you have set it as your working directory.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Reminder on Steps to Set Up Your Working Directory
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Click:<br>
<strong>Session → Set Working Directory → Choose Directory</strong></p></li>
<li><p>Navigate to the folder you created for this course (this should be the same folder you used for previous workshops).</p></li>
<li><p>Create a new folder called week10 inside this directory.</p></li>
<li><p>Select the <code>week10</code> folder and click <strong>Open</strong>.</p></li>
</ol>
<p>Don’t forget to verify your working directory before we get started</p>
<p>You can always check your current working directory by typing in the following command in the console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "C:/Users/0131045s/Desktop/Programming/R/Workshops/rintro/activities/week11"</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Next, we will create our <strong><em>second R script</em></strong> for today. Call your second script <code>10-data-wrangling-p2</code>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Reminder on creating an R script
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Go to the menu bar and select:<br>
<strong>File → New File → R Script</strong></p>
<p>This will open an untitled R script.</p></li>
<li><p>To save and name your script, select:</p>
<p><strong>File→ Save As</strong>, then enter the name:</p>
<p><code>10-data-wrangling-p2</code></p>
<p>Click <strong>Save</strong></p></li>
</ol>
</div>
</div>
</div>
</section>
<section id="activity-2-installing-loading-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="activity-2-installing-loading-r-packages">Activity 2: Installing / Loading R Packages</h2>
<p>We only need one package for data wrangling - <code>tidyverse</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>REMEMBER</strong>: If you encounter an error message like “<code>Error in library(package name): there is no packaged calledpackage name</code>”, you’ll need to install the package first by editing the following for your console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>) <span class="co">#replace "package name" with the actual package name</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="activity-3-load-in-your-datasets" class="level2">
<h2 class="anchored" data-anchor-id="activity-3-load-in-your-datasets">Activity 3: Load in your datasets</h2>
<p>You need to download several files for this activity and move them to your week 10 folder.</p>
<ol type="1">
<li><p><strong>demographics.csv</strong></p></li>
<li><p><strong>reaction_time.csv</strong></p></li>
<li><p><strong>wide_personality.csv</strong></p></li>
<li><p><strong>example_missing_data.csv</strong></p></li>
</ol>
<p>Once they are in your week 10 folder, make sure to load each of them in R in your new script.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df_demographics <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"demographics.csv"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>df_rt <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"reaction_time.csv"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>df_personality_wide <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"wide_personality.csv"</span>) </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>df_missing <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"example_missing_data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="activity-4-transforming-data-from-wide-to-long" class="level2">
<h2 class="anchored" data-anchor-id="activity-4-transforming-data-from-wide-to-long">Activity 4: Transforming Data from Wide to Long</h2>
<div class="callout callout-style-default callout-note callout-titled" title="What is long and wide data?">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What is long and wide data?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<section id="wide-data" class="level2">
<h2 class="anchored" data-anchor-id="wide-data">Wide Data</h2>
<p>In wide data, each row represents a unique participant, and each column represents a separate variable.</p>
<p>In wide data, each row represents a unique participant, and each column represents a separate variable. Table 6.1 shows an example of data in wide format. Each row contains all the information on a specific participant across each variable collected. For example, in one row of information, we can observe that participant 2 is 25 years old, 165 centimeters tall, weighs 60kg, and has a BMI score of 22.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">ID</th>
<th style="text-align: center;">Age</th>
<th style="text-align: center;">Height</th>
<th style="text-align: center;">Weight</th>
<th style="text-align: center;">BMI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">175</td>
<td style="text-align: center;">76</td>
<td style="text-align: center;">24.8</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">25</td>
<td style="text-align: center;">165</td>
<td style="text-align: center;">60</td>
<td style="text-align: center;">22</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">185</td>
<td style="text-align: center;">80</td>
<td style="text-align: center;">23.4</td>
</tr>
</tbody>
</table>
<p>If you are like most psychologists, you are used to seeing data in wide formats. Data is often inputted in wide format in software like Excel or SPSS, as it easier for humans to read. We are used to scanning data horizontally (left-right) rather than vertically (up-down). Because each participant is in a single row, repetition in the data frame is minimized, again making it easier for us to read.</p>
</section>
<section id="long-data" class="level2">
<h2 class="anchored" data-anchor-id="long-data">Long Data</h2>
<p>In long data, each row contains a participant’s single response to a single variable. The table below illustrates data in long format. Instead of having a column for each variable, there is one column that identifies the measured variable, and another column contains the participant’s response to that variable. If multiple variables are collected, each participant has several rows, with each row representing a single response to a single variable.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">ID</th>
<th style="text-align: center;">Variable</th>
<th style="text-align: center;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">Age</td>
<td style="text-align: center;">30</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: center;">Height</td>
<td style="text-align: center;">175</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">Weight</td>
<td style="text-align: center;">76</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: center;">BMI</td>
<td style="text-align: center;">24.8</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2</td>
<td style="text-align: center;">Age</td>
<td style="text-align: center;">25</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">Height</td>
<td style="text-align: center;">165</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2</td>
<td style="text-align: center;">Weight</td>
<td style="text-align: center;">60</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">BMI</td>
<td style="text-align: center;">22</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">Age</td>
<td style="text-align: center;">35</td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td style="text-align: center;">Height</td>
<td style="text-align: center;">185</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">Weight</td>
<td style="text-align: center;">80</td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td style="text-align: center;">BMI</td>
<td style="text-align: center;">23.4</td>
</tr>
</tbody>
</table>
<p>Each row in Table 6.2 represents a participant’s response to a single variable. For example, in row 1, we see that participant 1 reported their age (<strong><code>Variable</code></strong>) as 30 (<strong><code>Value</code></strong>). But I have to look to other rows to see this participant’s score on other variables.</p>
<p>It is more difficult to scan long data to quickly capture the information that we need. However, it is often easier for computers and programming languages to work with long data. That’s why you will sometimes get long-data from external sources.</p>
</section>
</div>
</div>
</div>
<p>It’s highly likely that your data will need to be in wide rather than long format for your analyses. However, there is definitely a chance that you will need to convert your data to long format for certain advanced statistical analyses. If those do situations do occur, then you can follow these steps to convert your data from wide format to long format.</p>
<section id="our-dataset" class="level3">
<h3 class="anchored" data-anchor-id="our-dataset">Our Dataset</h3>
<p>For this activity, we are going to be using the <code>df_personality_wide</code> dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_personality_wide)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ID Wellbeing Extraversion Neuroticism Conscientiousness Openness
1  1      3.55         3.98        2.15              3.34     2.44
2  2      3.82         3.29        2.83              2.76     2.83
3  3      5.25         3.32        2.18              3.72     1.99
4  4      4.06         3.09        2.42              3.70     4.74
5  5      4.10         2.56        2.50              3.66     3.97
6  6      5.37         4.43        1.65              3.55     2.10</code></pre>
</div>
</div>
<p>We can see that our data is currently in wide format, where each row represents a unique participant, and each column represents a separate personality variable (and ID variable).</p>
</section>
<section id="pivoting-from-wide-to-long-with-pivot_longer-function" class="level3">
<h3 class="anchored" data-anchor-id="pivoting-from-wide-to-long-with-pivot_longer-function">Pivoting from Wide to Long with <code>pivot_longer()</code> function</h3>
<p>The <code>pivot_longer()</code> function converts a wide data frame into long format. Typing <code>?pivot_longer</code> into the console provides detailed information about this function in RStudio through the Help tab in the Files Pane.</p>
<p>There is a lot of information that will appear in the help section. I want to draw your attention to the Usage section, which contains the arguments (inputs) that we can specify in the pivot_longer() function.</p>
<p>There is a lot of potential inputs we can throw in, but I want to highlight the key arguments that you will use most of the time when you use this function</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>data</code></td>
<td>Here you specify the wide data frame that you want to convert to long format</td>
</tr>
<tr class="even">
<td><code>cols</code></td>
<td>The column(s) that will be moved or altered when you pivot the data frame.</td>
</tr>
<tr class="odd">
<td><code>names_to</code></td>
<td>The names of each variable identified in cols will be stored in a new column in our long data frame. The names_to argument specifies the name(s) of that new column(s).</td>
</tr>
<tr class="even">
<td><code>values_to</code></td>
<td>The values associated with each variable identified in cols will be stored in a new column in our long data frame. The values_to argument specifies the name of that new column.</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Let’s use this function on our <code>df_personality_wide</code> and call the transformed dataframe <code>df_personality_long</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df_personality_long <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  df_personality_wide,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> Wellbeing<span class="sc">:</span>Openness, <span class="co">#we will pivot everything except ID</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">"Variable"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">"Response"</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_personality_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
     ID Variable          Response
  &lt;int&gt; &lt;chr&gt;                &lt;dbl&gt;
1     1 Wellbeing             3.55
2     1 Extraversion          3.98
3     1 Neuroticism           2.15
4     1 Conscientiousness     3.34
5     1 Openness              2.44
6     2 Wellbeing             3.82</code></pre>
</div>
</div>
<p>One important to note is that we rarely everpivot the ID column, because that enables us to identify which participant’s score each variable. Let’s look at what happens if we do include ID in the cols argument</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  df_personality_wide,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> ID<span class="sc">:</span>Openness, <span class="co">#pivot everything</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">"Response"</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 60 × 2
   name              Response
   &lt;chr&gt;                &lt;dbl&gt;
 1 ID                    1   
 2 Wellbeing             3.55
 3 Extraversion          3.98
 4 Neuroticism           2.15
 5 Conscientiousness     3.34
 6 Openness              2.44
 7 ID                    2   
 8 Wellbeing             3.82
 9 Extraversion          3.29
10 Neuroticism           2.83
# ℹ 50 more rows</code></pre>
</div>
</div>
<p>Now we have lost our record for identifying which participant contributed to which data point. This identifies a key about using pivot_longer() in that not EVERYTHING needs to pivoted, it depends on our analytical needs are.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Pivoting Image">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pivoting Image
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">include_graphics</span>(<span class="st">"06-pivot-visualisation.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="06-pivot-visualisation.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="activity-5-transforming-data-from-long-to-wide" class="level2">
<h2 class="anchored" data-anchor-id="activity-5-transforming-data-from-long-to-wide">Activity 5: Transforming Data from Long to Wide</h2>
<div class="callout callout-style-default callout-note callout-titled" title="What is long and wide data?">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What is long and wide data?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<section id="wide-data-1" class="level2">
<h2 class="anchored" data-anchor-id="wide-data-1">Wide Data</h2>
<p>In wide data, each row represents a unique participant, and each column represents a separate variable.</p>
<p>In wide data, each row represents a unique participant, and each column represents a separate variable. Table 6.1 shows an example of data in wide format. Each row contains all the information on a specific participant across each variable collected. For example, in one row of information, we can observe that participant 2 is 25 years old, 165 centimeters tall, weighs 60kg, and has a BMI score of 22.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">ID</th>
<th style="text-align: center;">Age</th>
<th style="text-align: center;">Height</th>
<th style="text-align: center;">Weight</th>
<th style="text-align: center;">BMI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">175</td>
<td style="text-align: center;">76</td>
<td style="text-align: center;">24.8</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">25</td>
<td style="text-align: center;">165</td>
<td style="text-align: center;">60</td>
<td style="text-align: center;">22</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">185</td>
<td style="text-align: center;">80</td>
<td style="text-align: center;">23.4</td>
</tr>
</tbody>
</table>
<p>If you are like most psychologists, you are used to seeing data in wide formats. Data is often inputted in wide format in software like Excel or SPSS, as it easier for humans to read. We are used to scanning data horizontally (left-right) rather than vertically (up-down). Because each participant is in a single row, repetition in the data frame is minimized, again making it easier for us to read.</p>
</section>
<section id="long-data-1" class="level2">
<h2 class="anchored" data-anchor-id="long-data-1">Long Data</h2>
<p>In long data, each row contains a participant’s single response to a single variable. The table below illustrates data in long format. Instead of having a column for each variable, there is one column that identifies the measured variable, and another column contains the participant’s response to that variable. If multiple variables are collected, each participant has several rows, with each row representing a single response to a single variable.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">ID</th>
<th style="text-align: center;">Variable</th>
<th style="text-align: center;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">Age</td>
<td style="text-align: center;">30</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: center;">Height</td>
<td style="text-align: center;">175</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">Weight</td>
<td style="text-align: center;">76</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: center;">BMI</td>
<td style="text-align: center;">24.8</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2</td>
<td style="text-align: center;">Age</td>
<td style="text-align: center;">25</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">Height</td>
<td style="text-align: center;">165</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2</td>
<td style="text-align: center;">Weight</td>
<td style="text-align: center;">60</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">BMI</td>
<td style="text-align: center;">22</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">Age</td>
<td style="text-align: center;">35</td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td style="text-align: center;">Height</td>
<td style="text-align: center;">185</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">Weight</td>
<td style="text-align: center;">80</td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td style="text-align: center;">BMI</td>
<td style="text-align: center;">23.4</td>
</tr>
</tbody>
</table>
<p>Each row in Table 6.2 represents a participant’s response to a single variable. For example, in row 1, we see that participant 1 reported their age (<strong><code>Variable</code></strong>) as 30 (<strong><code>Value</code></strong>). But I have to look to other rows to see this participant’s score on other variables.</p>
<p>It is more difficult to scan long data to quickly capture the information that we need. However, it is often easier for computers and programming languages to work with long data. That’s why you will sometimes get long-data from external sources.</p>
</section>
</div>
</div>
</div>
<p>There has been a growing trend/push for researchers to store their data in long format when making it available or downloadable online, as this can make data easier to find and extract using computational methods.</p>
<p>So it is worthwhile to know how to pivot your data from Long to Wide if you ever come across a dataset you need that is in long format.</p>
<p>To do this, we can use the <code>pivot_wider()</code> function. Typing <code>?pivot_woder</code> into the console provides detailed information about this function in RStudio through the Help tab in the Files Pane. Check the collapse box for what that should look like.</p>
<p>The table below shows the key arguments of this function.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Help information on the pivot_wider() function">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Help information on the pivot_wider() function
</div>
</div>
<div class="callout-body-container callout-body">
<p>The following should appear in the help pane when you type ?pivot_wider into your console.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="06-pivot-visualisation.png" class="img-fluid figure-img"></p>
<figcaption>The arguments that we can pass to the pivot_wider() function</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>data</code></td>
<td>The long data frame that you want to convert to wide format</td>
</tr>
<tr class="even">
<td><code>id_cols</code></td>
<td>The columns that help identify each participant. This is often the values that are repeated in each row within a long data frame (e.g., like ID or any independent variables)</td>
</tr>
<tr class="odd">
<td><code>names_from</code></td>
<td>When we pivot from long to wide, we will be creating new columns for each variable that we collected data on. We need to tell R where to find the names for those variables.</td>
</tr>
<tr class="even">
<td><code>values_from</code></td>
<td>We need to tell R where to find the values for the new columns that we are creating.</td>
</tr>
</tbody>
</table>
<p>Let’s use <code>pivot_wider()</code> to convert our <code>long_df</code> back into wide format.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(df_personality_long, </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">id_cols =</span> ID, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">names_from =</span> Variable,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">values_from =</span> Response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 6
      ID Wellbeing Extraversion Neuroticism Conscientiousness Openness
   &lt;int&gt;     &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;             &lt;dbl&gt;    &lt;dbl&gt;
 1     1      3.55         3.98        2.15              3.34     2.44
 2     2      3.82         3.29        2.83              2.76     2.83
 3     3      5.25         3.32        2.18              3.72     1.99
 4     4      4.06         3.09        2.42              3.7      4.74
 5     5      4.1          2.56        2.5               3.66     3.97
 6     6      5.37         4.43        1.65              3.55     2.1 
 7     7      4.37         3.4         3.67              3.44     2.68
 8     8      2.99         1.43        3.12              2.95     2.63
 9     9      3.45         3.56        2.09              2.76     3.62
10    10      3.64         2.62        4                 2.7      2.93</code></pre>
</div>
</div>
<p>Look familiar? If you compare it to our original <code>df_personality_wide</code>, you’ll notice they look exactly the same - which is what we should expect!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_personality_wide, <span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ID Wellbeing Extraversion Neuroticism Conscientiousness Openness
1   1      3.55         3.98        2.15              3.34     2.44
2   2      3.82         3.29        2.83              2.76     2.83
3   3      5.25         3.32        2.18              3.72     1.99
4   4      4.06         3.09        2.42              3.70     4.74
5   5      4.10         2.56        2.50              3.66     3.97
6   6      5.37         4.43        1.65              3.55     2.10
7   7      4.37         3.40        3.67              3.44     2.68
8   8      2.99         1.43        3.12              2.95     2.63
9   9      3.45         3.56        2.09              2.76     3.62
10 10      3.64         2.62        4.00              2.70     2.93</code></pre>
</div>
</div>
</section>
<section id="activity-6-handling-missing-data" class="level2">
<h2 class="anchored" data-anchor-id="activity-6-handling-missing-data">Activity 6: Handling Missing Data</h2>
<p>Missing values, often represented as NA in R, occur when data is not available or cannot be recorded for certain observations. This can occur due to various reasons such as non-response in surveys, data entry errors, or incomplete data collection processes. It’s essential to understand and address missing values appropriately to avoid biased or misleading results in data analysis. In psychological research, dealing with missing data is a common challenge that requires careful consideration to ensure the integrity and validity of analyses.</p>
<p>Detecting missing values in datasets is the first step towards handling them effectively.The quickest way to check if you have missing data in R is through the functions <code>colSums()</code> and <code>is.na()</code>. The function <code>colSums</code> we count up the number of certain values within each column of a data frame, and we can tell it to search for missing (<code>NA</code>) values through the <code>is.na()</code> function.</p>
<section id="our-dataset-1" class="level3">
<h3 class="anchored" data-anchor-id="our-dataset-1">Our Dataset</h3>
<p>Here we are going to use the <code>df_missing</code> data frame which contains data on demographic information.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_missing)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id age gender
1  1  25   Male
2  2  NA Female
3  3  30   Male
4  4  28   &lt;NA&gt;
5  5  35 Female
6  6  NA   Male</code></pre>
</div>
</div>
<p>We can see immediately there are some missing values, but let’s count exactly how many they are using the <code>colnames()</code> and <code>is.na()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(df_missing))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    id    age gender 
     0      3      3 </code></pre>
</div>
</div>
<p>We can see there are no missing values for <code>id</code>, but we have three missing values for <code>age</code> and <code>gender</code>.</p>
<p>To remove rows or columns with missing values, we can use functions like <code>drop_na()</code>. Here’s how we can remove rows with missing values in the age column:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df_removed <span class="ot">&lt;-</span> <span class="fu">drop_na</span>(df_missing)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_removed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id age gender
1  1  25   Male
2  3  30   Male
3  5  35 Female
4  8  22   Male</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(df_removed))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    id    age gender 
     0      0      0 </code></pre>
</div>
</div>
</section>
</section>
<section id="activity-7-merging-data-joining-different-datasets-together" class="level2">
<h2 class="anchored" data-anchor-id="activity-7-merging-data-joining-different-datasets-together">Activity 7: Merging Data (Joining Different Datasets Together)</h2>
<p>In psychological research, we’ll often encounter situations where data from multiple sources or studies need to be combined for analysis. We might have collected demographic information separately from participants answers on experimental tasks. We may have collected data using a variety of platforms (e.g., survey data using Qualtrics and response data using PsychoPy). Additionally, the research software tools we use might modulate the data. For example, if we run a study in Gorilla Research, then each separate task and questionnaire gets downloaded as separate files.</p>
<p>Merging data involves combining data frames based on their common variables. Let’s image we have two data frames called <code>df_demographics</code> and <code>df_rt.</code> These data frames contain information on both participants demographic information and their reaction time on a specific task and which condition they were randomly assigned to. Let’s load both of these data frames into R (make sure you have downloaded them and put them into your working directory before running the following code).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_demographics)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          ID     gender age
1 EoYncPX1QK     Female  24
2 Zn1yzAeYA4 Non-Binary  21
3 B4iCIhzgPi       Male  24
4 9sJnqQM0lo     Female  23
5 FPSgiOjwA7 Non-Binary  23
6 0g0AFLyHCe       Male  24</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_rt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          ID   condition mean_rt
1 EoYncPX1QK no caffeine     269
2 Zn1yzAeYA4 no caffeine     206
3 B4iCIhzgPi no caffeine     187
4 9sJnqQM0lo no caffeine     217
5 FPSgiOjwA7 no caffeine     160
6 0g0AFLyHCe no caffeine     255</code></pre>
</div>
</div>
<p>Ideally, we would have one merged data frame that would contain a participant’s response on all our variables. However, there are some complications with these two data frames. If you check the number of rows in each data frame, we can see there are differing number of participants.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df_demographics)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 60</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df_rt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 42</code></pre>
</div>
</div>
<p>There are 60 participants in the demographics data frame whereas there are only 42 participants in the reaction time data frame. If the study was online, maybe participants gave up after completing the demographic information, maybe there was connection issues, maybe the data did not save correctly. Whatever the reason for this mismatch in participants, we need to account for this when we merge these data frames together.</p>
<p>I am going to show you two ways we can join these datasets: <code>inner_join</code>, and <code>left_join</code></p>
<section id="inner_join" class="level3">
<h3 class="anchored" data-anchor-id="inner_join">Inner_Join</h3>
<p>The <code>inner_join()</code> function joins together two data frames, but it will only keep the rows that have matching values in both data frames.</p>
<p>When we use <code>inner_join()</code> we need to specify the value(s) that we want to match across both data frames. Once we do, then in the case of the <code>df_demographics</code> and <code>df_rt</code> data frames, what this means is that only the participants who match on that specified value(s) in both data frames will merged together.</p>
<p>Let’s create a merged data frame using <code>inner_join</code> and call it <code>df_inner</code>. The syntax for inner_join is: <code>inner_join(df1, df2, by = join_by(column(s))</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df_inner <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(df_demographics, df_rt, <span class="at">by =</span> <span class="st">"ID"</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_inner)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          ID     gender age   condition mean_rt
1 EoYncPX1QK     Female  24 no caffeine     269
2 Zn1yzAeYA4 Non-Binary  21 no caffeine     206
3 B4iCIhzgPi       Male  24 no caffeine     187
4 9sJnqQM0lo     Female  23 no caffeine     217
5 FPSgiOjwA7 Non-Binary  23 no caffeine     160
6 0g0AFLyHCe       Male  24 no caffeine     255</code></pre>
</div>
</div>
<p>We can see that our <code>df_inner</code> has combined the <code>gender</code> and <code>age</code> columns from <code>df_demographics</code> with the <code>condition</code> and <code>mean_rt</code> columns from <code>df_rt</code>. When we use <code>inner_join</code> the order in which specify the data frames is the order in which the columns will be added. So if we wanted the <code>condition</code> and <code>mean_rt</code> columns to come first, then we can change the order:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(df_rt, df_demographics, <span class="at">by =</span> <span class="fu">join_by</span>(ID))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           ID     condition mean_rt     gender age
1  EoYncPX1QK   no caffeine     269     Female  24
2  Zn1yzAeYA4   no caffeine     206 Non-Binary  21
3  B4iCIhzgPi   no caffeine     187       Male  24
4  9sJnqQM0lo   no caffeine     217     Female  23
5  FPSgiOjwA7   no caffeine     160 Non-Binary  23
6  0g0AFLyHCe   no caffeine     255       Male  24
7  hlmrG4AyLu   no caffeine     145     Female  22
8  oOUz7EpZDf   no caffeine     240 Non-Binary  24
9  QhvvMEVq1X   no caffeine     212       Male  24
10 WHdme1YyZv   no caffeine     207     Female  22
11 yFTywINVDl   no caffeine     236 Non-Binary  24
12 E4TDInCFgc   no caffeine     157       Male  23
13 w15ouKhYjX   no caffeine     139     Female  24
14 PRHjvltTq9   no caffeine     185 Non-Binary  23
15 T1INTYDoxW  low caffeine     261       Male  23
16 wQgCowzLTF  low caffeine     229     Female  22
17 gAPefpxFu2  low caffeine     314 Non-Binary  23
18 kJRT78syM1  low caffeine     150       Male  24
19 zigHVms3ZU  low caffeine     205     Female  23
20 MdaNDDZypx  low caffeine     353 Non-Binary  24
21 1kVtNcCJZR  low caffeine     201       Male  21
22 vWP6tk42hT  low caffeine     245     Female  23
23 uSbQmTf4hR  low caffeine     242 Non-Binary  24
24 F5JS8n0pw8  low caffeine     281       Male  24
25 GNNjyhr80i  low caffeine     203     Female  22
26 gg587jx1wz  low caffeine     260 Non-Binary  22
27 QG48CYj01m  low caffeine     113       Male  22
28 QkyZzgywzF  low caffeine     162     Female  23
29 t8x4iOKwnT high caffeine     204 Non-Binary  22
30 fAazPW5qCz high caffeine     170       Male  23
31 Aug70zOtfX high caffeine     211     Female  22
32 DECqK4tIyT high caffeine     114 Non-Binary  23
33 GbdjGe0yh2 high caffeine     227       Male  24
34 yuSrPEfg8O high caffeine     175     Female  24
35 Vq0SB0N0gt high caffeine     177 Non-Binary  23
36 rCqGbWbmxW high caffeine     192       Male  22
37 crbKl4mP8f high caffeine     171     Female  22
38 PPL7VpIJAA high caffeine     114 Non-Binary  23
39 I8wcEVbUwc high caffeine     230       Male  22
40 i8MDEDiJHv high caffeine     201     Female  23
41 5ROBC8QMSK high caffeine      48 Non-Binary  22
42 QGslHuqlDI high caffeine     255       Male  23</code></pre>
</div>
</div>
<p>If we check the number of rows, we will see that it matches the number of rows in <code>df_rt</code> rather than <code>df_demographics</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df_inner)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 42</code></pre>
</div>
</div>
</section>
<section id="left_join" class="level3">
<h3 class="anchored" data-anchor-id="left_join">Left_Join</h3>
<p>The function left_join keeps every participant (row) in the first data frame we feed it. It then matches participants responses in the second data frame and joins them together, once we specify a value that needs to be matched. If there is not a match on that column, then it fills the results with NA values.</p>
<p>Let’s create the data frame <code>df_left</code> using <code>left_join()</code>. The syntax for this function is: `left_join(df1, df2, by = join_by(ID))``</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>df_left <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df_demographics, df_rt, <span class="at">by =</span> <span class="fu">join_by</span>(ID))</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_left)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          ID     gender age   condition mean_rt
1 EoYncPX1QK     Female  24 no caffeine     269
2 Zn1yzAeYA4 Non-Binary  21 no caffeine     206
3 B4iCIhzgPi       Male  24 no caffeine     187
4 9sJnqQM0lo     Female  23 no caffeine     217
5 FPSgiOjwA7 Non-Binary  23 no caffeine     160
6 0g0AFLyHCe       Male  24 no caffeine     255</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(df_left) <span class="co">#prints out the last six rows of a data frame</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           ID     gender age condition mean_rt
55 TNfJ2PV63D     Female  24      &lt;NA&gt;      NA
56 VZjyLYJOyd Non-Binary  23      &lt;NA&gt;      NA
57 oZv0WxMU7K       Male  21      &lt;NA&gt;      NA
58 T1UopshE5K     Female  24      &lt;NA&gt;      NA
59 MZV79pikQY Non-Binary  24      &lt;NA&gt;      NA
60 D8j28H49Lt       Male  23      &lt;NA&gt;      NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df_left)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 60</code></pre>
</div>
</div>
<p>We can see that every participant in the df_demographics is included inside the df_left data frame. If that participant does not have scores on condition and mean_rt, then NA is substituted in.</p>
<p>The function is called left_join() because it joins whatever is put first (i.e., left) in the function is given priority over what comes second (i.e., right).</p>
</section>
<section id="other-join-functions" class="level3">
<h3 class="anchored" data-anchor-id="other-join-functions">Other Join Functions</h3>
<p>There are two other join functions that you can use: <code>right_join</code> and <code>full_join</code>. The textbook provides more information on both. I have only <code>left_join</code> and <code>inner_join</code> here as they are probably the most important to know.</p>
</section>
</section>
<section id="activity-8-dealing-with-reverse-scored-items" class="level2">
<h2 class="anchored" data-anchor-id="activity-8-dealing-with-reverse-scored-items">Activity 8: Dealing with Reverse Scored Items</h2>
<p>In psychology, <strong>reverse scoring</strong> is an important step in preparing questionnaire data. Many psychological scales include a mix of <em>positively</em> and <em>negatively</em> worded items. The goal is to reduce response bias (like people agreeing with everything). However, it also means that some items must be <strong>reverse scored</strong> before you calculate total or average scores.</p>
<p>Let’s take the <strong>Extraversion</strong> scale from the Big Five personality traits as an example.</p>
<section id="why-reverse-scoring-is-needed" class="level3">
<h3 class="anchored" data-anchor-id="why-reverse-scoring-is-needed">Why Reverse Scoring Is Needed</h3>
<p>Imagine a short questionnaire measuring Extraversion with 3 items:</p>
<ul>
<li><p><em>“I like being the centre of attention”</em> → <strong>Positive</strong> (higher score = more extraverted)</p></li>
<li><p><em>“I prefer to be alone”</em> → <strong>Negative</strong> (higher score = more introverted)</p></li>
<li><p><em>“I enjoy being around others”</em> → <strong>Positive</strong></p></li>
</ul>
<p>If someone scores high on <em>“I prefer to be alone”</em>, they are showing <strong>low</strong> Extraversion. But to combine this item fairly with the others, we must <strong>flip</strong> or <strong>reverse</strong> the score so that higher values always mean more Extraversion.</p>
</section>
</section>
<section id="step-by-step-example-in-r" class="level2">
<h2 class="anchored" data-anchor-id="step-by-step-example-in-r">Step-by-Step Example in R</h2>
<p>Let’s say participants rated each item from <strong>1 = Strongly Disagree</strong> to <strong>5 = Strongly Agree</strong>.</p>
<section id="step-1-create-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="step-1-create-the-dataset">Step 1: Create the Dataset</h3>
<p>We’ll start with a small dataset of 5 participants.</p>
<p>Let’s say we are working with the following short Extraversion scale. Each item is rated from 1 (Strongly Disagree) to 5 (Strongly Agree).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>df_extraversion <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_1 =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>),  <span class="co"># "I like being the center of attention"</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_2R =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>), <span class="co"># "I prefer to be alone" — needs reversing</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_3 =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>)   <span class="co"># "I enjoy being around others"</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_extraversion)                          </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ID Extraversion_1 Extraversion_2R Extraversion_3
1  1              5               1              4
2  2              4               2              3
3  3              3               2              3
4  4              2               4              2
5  5              1               5              1</code></pre>
</div>
</div>
<p>Here, Extraversion_2R is the reverse-scored item. Let’s reverse it.</p>
</section>
<section id="step-2-reverse-score-the-item" class="level3">
<h3 class="anchored" data-anchor-id="step-2-reverse-score-the-item">Step 2: Reverse Score the Item</h3>
<p>For items scored from 1 to 5, you reverse the score using the formula:</p>
<p><code>reversed_score = (Maximum + Minimum) - original_score</code></p>
<p>So for a 1–5 scale that translates to: <code>(5 + 1) - original_score</code>, which translates to: <code>6 - original_score</code></p>
<p>Let’s apply this to <code>Extraversion_2R</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>df_extraversion <span class="ot">&lt;-</span> df_extraversion <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Extraversion_2 =</span> <span class="dv">6</span> <span class="sc">-</span> Extraversion_2R)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_extraversion)                          </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ID Extraversion_1 Extraversion_2R Extraversion_3 Extraversion_2
1  1              5               1              4              5
2  2              4               2              3              4
3  3              3               2              3              4
4  4              2               4              2              2
5  5              1               5              1              1</code></pre>
</div>
</div>
<p>Now, <code>Extraversion_2</code> contains the correctly reversed scores. These are the values you would use when computing total or average Extraversion scores.</p>
</section>
</section>
<section id="reverse-scoring-multiple-items" class="level2">
<h2 class="anchored" data-anchor-id="reverse-scoring-multiple-items">Reverse Scoring Multiple Items</h2>
<p>Most real psychological scales are longer and have <strong>multiple</strong> reverse-scored items.</p>
<p>Here’s a sample dataset with 10 Extraversion items. Items <strong>2, 4, 7, and 10</strong> are written in the opposite direction of the trait and need to be reversed:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>df_extraversion <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_1 =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>),</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_2 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>), <span class="co">#needs to be reversed</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_3 =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>),</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_4 =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">5</span>), <span class="co">#needs to be reversed</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_5 =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">2</span>),</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_6 =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>),</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_7 =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>), <span class="co">#reverse</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_8 =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">2</span>),</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_9 =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">3</span>),</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Extraversion_10 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>) <span class="co">#reverse</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_extraversion)                          </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ID Extraversion_1 Extraversion_2 Extraversion_3 Extraversion_4 Extraversion_5
1  1              5              1              4              2              3
2  2              4              2              3              1              3
3  3              3              2              3              4              4
4  4              2              4              2              3              2
5  5              1              5              1              5              2
  Extraversion_6 Extraversion_7 Extraversion_8 Extraversion_9 Extraversion_10
1              4              5              4              5               1
2              2              4              4              5               2
3              2              2              3              4               1
4              1              1              3              4               3
5              3              1              2              3               5</code></pre>
</div>
</div>
<section id="how-to-reverse-multiple-items-efficiently" class="level3">
<h3 class="anchored" data-anchor-id="how-to-reverse-multiple-items-efficiently">How to Reverse Multiple Items Efficiently</h3>
<p>Manually reversing each item one at a time can be slow and error-prone. Instead, we can reverse score all relevant items in <strong>a couple of steps</strong> using three tools from the <code>dplyr</code> package:</p>
<ul>
<li><p><code>mutate()</code> – to create new variables</p></li>
<li><p><code>across()</code> – to apply a function across multiple columns</p></li>
<li><p><code>all_of()</code> – to select specific columns from a character vector</p></li>
</ul>
</section>
<section id="step-1-identify-the-reverse-scored-items" class="level3">
<h3 class="anchored" data-anchor-id="step-1-identify-the-reverse-scored-items">Step 1: Identify the Reverse-Scored Items</h3>
<p>We first list the names of the reverse-scored items in a character vector:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>reverse_items <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Extraversion_2"</span>, <span class="st">"Extraversion_4"</span>, <span class="st">"Extraversion_7"</span>, <span class="st">"Extraversion_10"</span>) <span class="co">#put all the items into a vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-2-reverse-the-scores-using-a-formula" class="level3">
<h3 class="anchored" data-anchor-id="step-2-reverse-the-scores-using-a-formula">Step 2: Reverse the Scores Using a Formula</h3>
<p>We’ll apply the formula:</p>
<p><code>Reversed Score = 6 - Original Score</code></p>
<p>This works because our items are scored from 1 to 5, so 6 is the maximum + 1.</p>
<p>We use <code>mutate()</code> with <code>across()</code> to apply this formula to every item in our list, and save the results as <strong>new columns</strong> ending in <code>_reversed</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Automatically reverse all columns that end in R</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>df_extraversion <span class="ot">&lt;-</span> <span class="fu">mutate</span>(</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  df_extraversion,</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">across</span>(</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">.cols =</span> <span class="fu">all_of</span>(reverse_items),</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">.fns =</span> <span class="sc">~</span> <span class="dv">6</span> <span class="sc">-</span> .x, <span class="co">#this is the formula for rescoring: the maximum + 1 (in this example 6) minus the participants score (.x)</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.names =</span> <span class="st">"{.col}_reversed"</span> <span class="co">#this renames the columns </span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">.keep =</span> <span class="st">"unused"</span></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_extraversion)                          </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ID Extraversion_1 Extraversion_3 Extraversion_5 Extraversion_6 Extraversion_8
1  1              5              4              3              4              4
2  2              4              3              3              2              4
3  3              3              3              4              2              3
4  4              2              2              2              1              3
5  5              1              1              2              3              2
  Extraversion_9 Extraversion_2_reversed Extraversion_4_reversed
1              5                       5                       4
2              5                       4                       5
3              4                       4                       2
4              4                       2                       3
5              3                       1                       1
  Extraversion_7_reversed Extraversion_10_reversed
1                       1                        5
2                       2                        4
3                       4                        5
4                       5                        3
5                       5                        1</code></pre>
</div>
</div>
<p>The dataset now includes the original items and new reversed versions for the four reverse-scored items. You can now safely use the reversed versions when calculating total or average scores for the scale.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>df_extraversion <span class="ot">&lt;-</span> <span class="fu">mutate</span>(</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  df_extraversion,</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Mean_Extraversion =</span> <span class="fu">rowMeans</span>(<span class="fu">across</span>(Extraversion_1<span class="sc">:</span>Extraversion_10_reversed)),</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>                          </span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_extraversion)   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ID Extraversion_1 Extraversion_3 Extraversion_5 Extraversion_6 Extraversion_8
1  1              5              4              3              4              4
2  2              4              3              3              2              4
3  3              3              3              4              2              3
4  4              2              2              2              1              3
5  5              1              1              2              3              2
  Extraversion_9 Extraversion_2_reversed Extraversion_4_reversed
1              5                       5                       4
2              5                       4                       5
3              4                       4                       2
4              4                       2                       3
5              3                       1                       1
  Extraversion_7_reversed Extraversion_10_reversed Mean_Extraversion
1                       1                        5               4.0
2                       2                        4               3.6
3                       4                        5               3.4
4                       5                        3               2.7
5                       5                        1               2.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>df_extraversion_clean <span class="ot">&lt;-</span> <span class="fu">select</span>(df_extraversion, </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">c</span>(ID, Mean_Extraversion))</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_extraversion_clean)                          </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ID Mean_Extraversion
1  1               4.0
2  2               3.6
3  3               3.4
4  4               2.7
5  5               2.0</code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>